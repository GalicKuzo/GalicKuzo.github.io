<!DOCTYPE html>
<html lang="es">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width">
        <title>Encriptador</title>
        <link rel="stylesheet" href="reset.css">
        <link rel="stylesheet" href="style.css">
        <link rel="shortcut icon" href="Imagenes/LogoEncriptador.png">
    </head>
    <body class="bg_animate">
        <div class="burbujas">
            <div class="burbuja"></div>
            <div class="burbuja"></div>
            <div class="burbuja"></div>
            <div class="burbuja"></div>
            <div class="burbuja"></div>
            <div class="burbuja"></div>
            <div class="burbuja"></div>
            <div class="burbuja"></div>
            <div class="burbuja"></div>
            <div class="burbuja"></div>
        </div>
            <main>
                <div class="izquierda">
                    <div class="top">
                        <img src="Imagenes/LogoAlura.png" class="logoAlura">
                        <p class="nombre1"> Challenge One | Encrypter</p>
                    </div>
                    <div class="medio">
                        <div class="row1">
                            <h1 class="descripcion">Encriptador</h1>
                        </div>
                        <div class="row2">
                            <textarea class="cuadrado1" id="textoenv"></textarea>
                        </div>
                        <div class="row3">
                            <button id="encriptar" class="botones">
                                <span></span>
                                <span></span>
                                <span></span>
                                <span></span>
                                Encriptar
                            </button>
                            <button id="desencriptar" class="botones">
                                <span></span>
                                <span></span>
                                <span></span>
                                <span></span>
                                Desencriptar
                            </button>
                        </div>
                    </div>
                </div>
                <div class="derecha">
                    <p class="nombre">by Sandro Meza</p>
                    <textarea class="cuadrado2" id="recibir" readonly></textarea>
                </div>
            </main>
    </body>
    <script>
        const letrasMinusculas = ['a', 'b', 'c', 'd', 'e', 'f', 'g', 'h', 'i', 'j', 'k', 'l', 'm', 'n', 'o', 'p', 'q', 'r', 's', 't', 'u', 'v', 'w', 'x', 'y', 'z', ' '];
        var textarea = document.getElementById("textoenv");
        var encriptar = document.getElementById("encriptar");
        var desencriptar = document.getElementById("desencriptar");
        function Resultado(info){
            var recibir = document.getElementById("recibir");
            recibir.value = info;
            if (recibir.value != ""){
                recibir.style.backgroundImage = "none";
            } else {
                recibir.style.backgroundImage = "url(Imagenes/Advertencia.png)"
            }
        }
        textarea.addEventListener("input", function(event) {
        const inputValue = event.target.value;
        const sanitizedValue = inputValue.replace(/[^a-z\n\s]/g, "");
        event.target.value = sanitizedValue;
        });
        encriptar.addEventListener("click", function() {
            var informacion = textarea.value;
            var arreglo = informacion.split('');
            var i = 0;
            var recibido = recibir.value;
            while (i<arreglo.length){
                if (arreglo[i] == "a"){
                    arreglo[i] = "ai";
                }
                if (arreglo[i] == "e"){
                    arreglo[i] = "enter";
                }
                if (arreglo[i] == "i"){
                    arreglo[i] = "imes";
                }
                if (arreglo[i] == "o"){
                    arreglo[i] = "ober";
                }
                if (arreglo[i] == "u"){
                    arreglo[i] = "ufat";
                }
                i++;
            }
            informacion = arreglo.join('');
            Resultado(informacion);
        });
        desencriptar.addEventListener("click", function() {
            var informacion = textarea.value;
            var arreglo = informacion.split('');
            var i = 0;
            var recibido = recibir.value;
            while (i<arreglo.length){
                //Minusculas
                if (arreglo[i] == "a"){
                    if (arreglo[i+1] == "i"){
                        arreglo[i] = "a";
                        arreglo[i+1] = "";
                    }
                }
                if (arreglo[i] == "e"){
                    if (arreglo[i+1] == "n"){
                        if (arreglo[i+2] == "t"){
                            if (arreglo[i+3] == "e"){
                                if (arreglo[i+4] == "r"){
                                    arreglo[i] = "e";
                                    arreglo[i+1] = "";
                                    arreglo[i+2] = "";
                                    arreglo[i+3] = "";
                                    arreglo[i+4] = "";
                                }
                            }
                        }
                    }
                }
                if (arreglo[i] == "i"){
                    if (arreglo[i+1] == "m"){
                        if (arreglo[i+2] == "e"){
                            if (arreglo[i+3] == "s"){
                                arreglo[i] = "i";
                                arreglo[i+1] = "";
                                arreglo[i+2] = "";
                                arreglo[i+3] = "";
                            }
                        }
                    }
                }
                if (arreglo[i] == "o"){
                    if (arreglo[i+1] == "b"){
                        if (arreglo[i+2] == "e"){
                            if (arreglo[i+3] == "r"){
                                arreglo[i] = "o";
                                arreglo[i+1] = "";
                                arreglo[i+2] = "";
                                arreglo[i+3] = "";
                            }
                        }
                    }
                }
                if (arreglo[i] == "u"){
                    if (arreglo[i+1] == "f"){
                        if (arreglo[i+2] == "a"){
                            if (arreglo[i+3] == "t"){
                                arreglo[i] = "u";
                                arreglo[i+1] = "";
                                arreglo[i+2] = "";
                                arreglo[i+3] = "";
                            }
                        }
                    }
                }
                i++;
            }
            informacion = arreglo.join('');
            Resultado(informacion);
        });
    </script>
</html>